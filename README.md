# Морской Бой - Сетевая Игра

Сетевая реализация классической игры "Морской бой" для двух игроков с архитектурой клиент-сервер.

## Особенности

### Серверная часть
- **Многопоточная архитектура** — обработка множества одновременных подключений
- **Интеллектуальный матчмейкинг** — автоматический подбор соперников
- **Автоматическая расстановка** — умное размещение кораблей по правилам
- **Мониторинг в реальном времени** — статистика сервера и активных игр
- **Отказоустойчивость** — корректная обработка отключений игроков

### Клиентская часть
- **Интуитивный интерфейс** — понятное представление игровых полей
- **Двойное поле зрения** — свое поле и поле противника
- **Валидация ввода** — защита от некорректных данных

## Быстрый старт

### Системные требования
- **ОС:** Windows 7 и выше
- **Компилятор:** Поддерживающий стандарт C++11
- **Библиотеки:** Winsock2 (входит в состав Windows)

### Компиляция проекта

```bash
# Компиляция сервера
g++ -o NavalBattle_server.exe NavalBattle_server.cpp -lws2_32 -std=c++11

# Компиляция клиента
g++ -o NavalBattle_client.exe NavalBattle_client.cpp -lws2_32 -std=c++11
```
## Запуск системы

### Запустите сервер:
```bash
NavalBattle_server.exe
```
Сервер запросит порт (по умолчанию 12345)
Запустите клиенты:
```bash
NavalBattle_client.exe
```
### Для каждого клиента укажите:
-IP-адрес сервера (по умолчанию 127.0.0.1)
-Порт сервера (по умолчанию 12345)

## Игровой процесс
### Этапы игры
- Подключение — игроки подключаются к серверу
- Матчмейкинг — сервер автоматически формирует пары
- Подготовка — автоматическая расстановка кораблей
- Битва — поочередные ходы до победы

### Состав флота
| Тип корабля | Количество | Размер (клетки) |
|-------------|------------|-----------------|
| Линкор      | 1          | 4               |
| Крейсер     | 2          | 3               |
| Эсминец     | 3          | 2               |
| Катер       | 4          | 1               |

Всего: 10 кораблей, 20 клеток

### Обозначения на поле
| Символ | Значение | Видимость |
|--------|----------|-----------|
| `.`    | Неизвестная клетка | Оба поля |
| `S`    | Корабль | Только свое поле |
| `X`    | Попадание | Оба поля |
| `O`    | Промах | Оба поля |
| `#`    | Потопленный корабль | Оба поля |

### Формат хода
```text
x y
```

где x и y — координаты от 0 до 9

*Пример: 5 3*

## Управление сервером

Во время работы сервер поддерживает команды администратора:

| Команда | Описание |
|---------|----------|
| `/stats` | Показать статистику сервера |
| `/stop` | Безопасная остановка сервера |
| `/help` | Показать список команд |

## Архитектура проекта

### Структура файлов
```
NavalBattle/
├── NavalBattle_server.cpp # Серверная логика
├── NavalBattle_client.cpp # Клиентская логика
├── README.md # Документация
└── exeFiles/ # Скомпилированные файлы
```

### Ключевые компоненты
1. **Сетевой слой** — управление подключениями через WinSock
2. **Игровой движок** — логика морского боя
3. **Менеджер сессий** — управление игровыми комнатами
4. **Интерфейс пользователя** — консольный интерфейс

## Технические особенности
### Безопасность
- Валидация всех пользовательских вводов
- Защита от переполнения буфера
- Обработка некорректных сетевых данных

### Надежность
- RAII — автоматическое управление ресурсами
- Атомарные операции — безопасность в многопоточной среде
- Корректное освобождение ресурсов

### Производительность
- Неблокирующие сетевые операции
- Эффективные алгоритмы поиска
- Оптимизированное управление памятью

## Статистика и мониторинг
**Сервер предоставляет статистику:**
- Количество активных игроков
- Число текущих игровых сессий
- Общее количество сыгранных игр
- Время работы сервера

## Известные ограничения
- Работает только на Windows (используется WinSock API)
- Поддерживает только IPv4
- Автоматическая расстановка кораблей (ручная недоступна)
- Отсутствует система аутентификации игроков

## Планы развития
**Версия 2.0 (Запланировано)**

- Ручная расстановка кораблей
- Система рейтингов ELO
- Поддержка IPv6

**Версия 3.0 (Дальнейшие планы)**
- Кроссплатформенность (Linux)
- Графический интерфейс
- Модульная архитектура (разделение на .h/.cpp файлы)
- Реплейи и история игр
- Турнирный режим
